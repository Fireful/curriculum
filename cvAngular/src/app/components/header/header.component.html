<header id="header">
    <div class="center">
        <!-- LOGO -->
        <a href="index.html" id="linkLogo">
            <div id="logo">
                <img src="assets/images/angular.png" class="app-logo" alt="logotipo" />
                <span id="brand">
          <strong>Javier</strong> Casas Gallego
        </span>
            </div>
        </a>
        <!-- MENU -->
        <nav id="menu">
            <ul>
                <li>
                    <a [routerLink]="['/home']" [routerLinkActive]="[ 'active']">Inicio</a>
                </li>
                <li>
                    <a [routerLink]="['/cv']" [routerLinkActive]="[ 'active']">CV</a>
                </li>

                <li>
                    <a id="botonDatos">Datos Personales</a>
                </li>
                <li>
                    <a [routerLink]="['/portfolio']" [routerLinkActive]="[ 'active']">Portfolio</a>
                </li>
                <li>
                    <a [routerLink]="['/acerca']" [routerLinkActive]="[ 'active']">Acerca de...</a>
                </li>
                <li>
                    <a id="botonFormulario" (click)="openLogin(modalLogin)" [routerLink]="['/login']" [routerLinkActive]="['active']">Login</a>
                </li>
                <li>
                    <a [routerLink]="['/peliculas']" [routerLinkActive]="[ 'active']">Películas</a>
                </li>

            </ul>
        </nav>
        <!-- Limpiar flotados-->
        <div class="clearfix"></div>
    </div>

</header>

<!-- Modales -->
<ng-template #modalLogin let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Login</h5>
        <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    </div>
    <div class="modal-body">

        <form #login="ngForm" (ngSubmit)="onLogin()">
            <div class="mb-3">
                <label for="username" class="form-label">Usuario</label>
                <input type="email" class="form-control" id="username" name="username" #loginUser="ngModel" [(ngModel)]="userLogin.username" required pattern="[a-zA-Z]+">
                <small *ngIf="!loginUser.valid && loginUser.touched">
          <div class="alert alert-danger">
            El usuario no es válido
          </div>
        </small>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" name="password" #loginPwd="ngModel" [(ngModel)]="userLogin.password" required pattern="[a-zA-Z]+">
                <small *ngIf="!loginPwd.valid && loginPwd.touched">
          <div class="alert alert-danger">
            La contraseña no es válida
          </div>
        </small>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="login.invalid">Submit</button>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.dismiss('Cross click')">Close</button>
        <button type="button" class="btn btn-primary" (click)="openRegistro(modalRegistro)">Registrar usuario</button>
    </div>
</ng-template>

<!-- Modal Registro de usuario -->
<ng-template #modalRegistro let-modal>
    <div class="modal-header">
        <h5 class="modal-title" id="modalRegistroUsuarios">Registro de usuarios</h5>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')"><span aria-hidden="true">&times;</span></button>
    </div>
    <div class="modal-body">
        <form #register="ngForm" (ngSubmit)="onRegister()">
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="username" name="username" #registerUser="ngModel" [(ngModel)]="userRegister.nombre" required>
                <small *ngIf="!registerUser.valid && registerUser.touched">
          <div class="alert alert-danger">
            El usuario no es válido
          </div>
        </small>
            </div>
            <div class="mb-3">
                <label for="apellidos" class="form-label">Apellidos</label>
                <input type="text" class="form-control" id="apellidos" name="apellidos" #registerSurname="ngModel" [(ngModel)]="userRegister.apellidos">
                <small *ngIf="!registerSurname.valid && registerSurname.touched">
          <div class="alert alert-danger">
            Los apellidos no son válidos
          </div>
        </small>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">email</label>
                <input type="email" class="form-control" id="email" name="email" #registerEmail="ngModel" [(ngModel)]="userRegister.email" required>
                <small *ngIf="!registerEmail.valid && registerEmail.touched">
          <div class="alert alert-danger">
            El email no es válido
          </div>
        </small>

            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Contraseña</label>
                <input type="password" class="form-control" id="password" name="password" #registerPwd="ngModel" [(ngModel)]="userRegister.password" required>
                <small *ngIf="!registerPwd.valid && registerPwd.touched">
          <div class="alert alert-danger">
            Los apellidos no son válidos
          </div>
        </small>
            </div>
            <div class="mb-3">
                <label for="repassword" class="form-label">Confirma la contraseña</label>
                <input type="password" class="form-control" id="repassowrd" name="repassword" #registerRePwd="ngModel" [(ngModel)]="userRegister.repassword" required>
                <small *ngIf="registerRePwd.value!=registerPwd.value">
          <div class="alert alert-danger">
            Las contraseñas no coinciden
          </div>
        </small>
            </div>

            <button type="submit" class="btn btn-primary" [disabled]="register.invalid">Submit</button>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="modal.dismiss('Cross click')">Close</button>
        <button id="botonLogin" type="button" class="btn btn-primary" (click)="openLogin(modalLogin)">Iniciar
      sesión</button>
    </div>

</ng-template>
